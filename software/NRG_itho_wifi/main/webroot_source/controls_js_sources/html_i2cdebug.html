<div class="header">
  <h1>I2C debug</h1>
</div><br><br>
<p></p>
<span>Itho I2C connection status: </span><span id=\'ithoinit\'>unknown</span><br><br>
<span>If the I2C bus is stuck. Please copy the log below and send it to <a
    href="mailto: info@nrg.watch">info@nrg.watch</a> or add it to the issue on
  Github.<br>Also try to reset the Temp/Hum sensor below and see if this releases the I2C bus. If succesful then the I2C
  connection status should return to 'connected'.</span>
<style>
  .pure-form-aligned .pure-control-group label {
    width: 15em;
  }
</style>
<form class="pure-form pure-form-aligned">
  <fieldset>
    <br>
    <legend><br>Last I2C commands:</legend>
    <br>
    <table id="I2CLogTable" class="pure-table pure-table-bordered"></table><br><br>
    <fieldset>
      <legend><br>I2C debug commands and settings:</legend><br>
      <button id=\"ithobutton-shtreset\" class=\"pure-button pure-button-primary\">Reset Temp/Hum
        sensor</button><br><span>Result:&nbsp;</span><span id=\'i2c_sht_reset\'></span><br><br>
    </fieldset>
    <div id="i2clog_outer" class="hidden">
      <div style="display:inline-block;vertical-align:top;overflow:hidden;padding-bottom:5px;">I2C sniffer Log:</div>
      <div id="i2clog"
        style="padding:10px;background-color:black;min-height:30vh;max-height:60vh;font: 0.9rem Inconsolata, monospace;border-radius:7px;overflow:auto;color:#aaa">
      </div>
      <div style="padding-top:5px;">
        <a href="#" class="pure-button" onclick="$('#i2clog').empty()">Clear</a>
      </div>
    </div>
    <form class="pure-form pure-form-aligned">
      <fieldset>
        <legend><br>I2C sniffer mode (works on I2C sniffer capable hardware only, see system log):</legend><br>
        <button id="i2csniffer-1" class="pure-button pure-button-primary">On</button>
        <button id="i2csniffer-0" class="pure-button pure-button-primary">Off</button>
        <br><br>

      </fieldset>
    </form>
    <br><br>
    <script>
      $(document).ready(function () {
        getSettings('sysstat');
        getSettings('i2cdebuglog');
        getSettings('i2cdebugsettings');
      });
    </script>